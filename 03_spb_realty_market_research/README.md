# Исследование рынка недвижимости Санкт-Петербурга.

## Статус 
Завершён.

## Данные

В наличии были следующие данные о прослушиваниях треков в сервисе Яндекс.Музыка:
```
airports_nearest — расстояние до ближайшего аэропорта в метрах (м)
balcony — число балконов
ceiling_height — высота потолков (м)
cityCenters_nearest — расстояние до центра города (м)
days_exposition — сколько дней было размещено объявление (от публикации до снятия)
first_day_exposition — дата публикации
floor — этаж
floors_total — всего этажей в доме
is_apartment — апартаменты (булев тип)
kitchen_area — площадь кухни в квадратных метрах (м²)
last_price — цена на момент снятия с публикации
living_area — жилая площадь в квадратных метрах (м²)
locality_name — название населённого пункта
open_plan — свободная планировка (булев тип)
parks_around3000 — число парков в радиусе 3 км
parks_nearest — расстояние до ближайшего парка (м)
ponds_around3000 — число водоёмов в радиусе 3 км
ponds_nearest — расстояние до ближайшего водоёма (м)
rooms — число комнат
studio — квартира-студия (булев тип)
total_area — площадь квартиры в квадратных метрах (м²)
total_images — число фотографий квартиры в объявлении
Пояснение: апартаменты — это нежилые помещения, которые не относятся к жилому фонду, но имеют необходимые условия для проживания.
```

## Задача

В распоряжении есть данные сервиса Яндекс Недвижимость — архив объявлений о продаже квартир в Санкт-Петербурге и соседних населённых пунктах за несколько лет. Нужно научиться определять рыночную стоимость объектов недвижимости. Ваша задача — установить параметры. Это позволит построить автоматизированную систему: она отследит аномалии и мошенническую деятельность.

По каждой квартире на продажу доступны два вида данных. Первые вписаны пользователем, вторые — получены автоматически на основе картографических данных. Например, расстояние до центра, аэропорта, ближайшего парка и водоёма.

## Используемые библиотеки
*Python*, *Pandas*

## Выводы:

**Репрезентативность выборки:**
* база после очистки содержит более 23 тыс записей, около 15 тыс из них относится к СПб, и более конкретно около 5000 - к цетру СПб. Этого достаточно для исследования.

**Пропуски и как они были заполнены?**
* В исходных данных было достаточно много пропусков. Некоторые из них понятно, почему не были заполнены. Например, количество балконов, является ли недвижимость аппартаментами, количество прудов и парков вокруг - если они не заполнены, то это значит, что балконов нет, и это не аппартаменты, и парков и прудов здесь нет.
* Пропуски в имени города заполнить нечем, т.к. нет признаков, по которыми можно их восстановить.
* Высота потолков - также не везде заполнена, или была явно большая. Нереальные значения я привёл к медианным, либо разделил на 10, если это имело смысл.
* Площадь кухни и жилую я восстанавливал, исходя из того, какая медианная доля жилой и кухонной площади есть по базе. А общая площадь была известа везде.
* Общее количество этажей - если оно не было известно, то я присваивал это значение этажу текущей квартиры.
* Если были не известны расстояние до центра или до аэропорта, то ничем не заполнял их, т.к. восстановить эти данные не из чего.
* Если было не заполнено колчество дней до снятия с продажи, то я считал, что объявление ещё висит, и заполнять это поле не нужно.

**Основной интерес при работе был в том, чтобы определить:**
* какие факторы и как влияют на цену, а также
* какие есть рамки нормы при размещении объявлений и "тенденции", по которым можно было бы судить о нормальности / НЕнормальности.

**Факторы, влияющие на цену / признаки нормы.**
* Есть разные правила для центра СПб и для остальной базы. О них будем говорить дальше.

**Вне зависимости от того, это центр СПб, или где-то ещё.**
* сильнее всего влияет на цену площадь недвижимости (коэффициент корреляции ~0.74).
* этаж - самые привлекательные и дорогие квартиры - не на крайних этажах. Последний этаж снижает стоимость на 10%, первый - на 20%.
* число комнат влияет на цену - чем больше комнат, тем больше цена, но существенно слабее, чем площадь (коэффциент корреляции = 0.42..0.43).

**Различается для центра СПб и для всей базы:**
* высота потолков. В центра СПб длоя квартир с высокими потолками гораздо выше, но высота потолков на цену влияет слабо. Больше влияет площадь и количество комнат. В целом по базе - корреляция цены с высотой потоклв выше.
* расстояние до центра - для центра СПб цена меняется слабо (-0.19), а в целом по базе - гораздо существеннее (-0.34).
* высота потолков - слабо влияет на цену в центре СПб, и ощутимо - в целом по базе.
* медианная цена за 1м2 ощутимо зависит от года публикации. Тенденции в целом по базе и в центре СПб одинаковые - когда растёт одно - растёт и другое. НО. В центре СПб колебания за цену 1м2 сильнее. В центре СПБ цена упала на 22.9%, в то вермя, как в целом по базе - только на 12,9%. Аналогично, восстановление цены также было более значительным.
* медианная цена за 1м2 ощутимо зависит от месяца публикации. Размах в цене может составлять 3.8% Причём в целом по базе и в центре СПб есть свои "дорогие" и "дешёвые" месяцы.
* медианная цена за 1м2 ощутимо зависит от дня недели публикации. Разница достигает для всей базы 2%, и 5.6% для центра СПб. "дорогие" и "дешёвые" дни недели здесь разные. Размещать объявление не в центре СПб лучше в вторник-четверг. А в центре СПБ - лучше на выходных.
* этаж и площадь одинаково важны в центре СПб и в целом по базе.
* квартиры в центре СПб сильно различаются по площади. Есть большой пик в районе 35-45м2, который похож на однушки, есть пик в районе 50-75м2 (двушк-трёшки), а дальше есть достаточно много квартир вплоть до 200м2. Вероятно, это коммуналки. Других городах большие квартиры (> 75м2) также встречаются, но их доля меньше. Есть очень сильная корреляция (0.72...0.75) между площадью квартры и ценой как в других городах, так и в центре СПб.
* в целом по базе доля однушек в 2 раза больше, чем в центре СПб.
* Высота потолков в целом по базе ниже, чем в СПб. Но цена за 1м2 там в 1.6 раза сильнее зависит от высоты потолков, чем в центре СПб.
* Этаж влияет на цену - квартиры на НЕкрайних этажах стоят на 10..15 дороже, чем на крайних. При этом цена за 1м2 на некрайние этажи отличается на 10%, в то время как на крайне - на 15-16% в целом по базе от тех, что в центре СПб.
